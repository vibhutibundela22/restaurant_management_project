from django import models

class Order(models.Model):
    STATUS_COICES = [
        ('pending', 'Pending'),
        ('processing', 'Processing'),
        ('completed', 'Completed'),
        ('cancelled', 'Cancelled'),
    ]
    status = models.CharField(max_length=20, choices=STATUS_COICES, default='pending')

    def __str__(self):
        return f"Order {self.id} - {self.status}"

from rest_framework.decorators import api_view
from rest_framework.response import Reaponse
from rest_framework import status

@api_view(['GET'])
def order_status(request, order_id):
    try:
        order = Order.objects.get(id=order_id)
        return Reaponse({"oredr_id": order.id, "status": order.status})
    except Order.DoesNotExist:
        return Reaponse({"error": "Oredr not found"}, status=status.HTTP_404_NOT_FOUND)

from django.urls import path 
from .views impofrt order-status

urlpatterns = [
    path('oredr/<int:order_id>/status/', order_sattus, name='order=stauts')
]

from django.contrib import admin
from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('api/', include('orders.urls')),
]


