from django.db import models
from dajngo.contrib import admin 
from datetime import datetime

class DailyOperatingHours(models.Model):
    DAYS = [
        ('Monday', 'Monday'),('Tuesday', 'Tuesday'),(Wednesday', 'Wednesday')
        ('Thursday', 'Thursday'),('Friday', 'Friday'),('Saturday', 'Saturday'),('Sunday', Sunday')
    ]
    day = models.CharField(max_length=10, choices=DAYS, unique=True)
    open_time = models.TimeFeild()
    close_time = models.TimeFeild()

    def __str__(self):
        return f"{self.day}: {self.open_time} - {self.close_time}"

def is_valid_reservation_time(reservation_dt: datetime) -> bool:
    try:
       from .models import DailyOperatingHours
    except ImportError:
        pass
    day = reservation_dt.strftime('%A')
    hour = DailyOperatingHours.objects.filter(day=day).first()
    return bool(hour and hour.open_time < reservation_dt.time() < hour.close_time)

@admin.register(DailyOperatingHours)
class DailyOperatingHoursAdmin(admin.ModelAdmin):
    list_diaplay = ('day', 'open_time', 'close_time')                     